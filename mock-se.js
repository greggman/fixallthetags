window.SE = {
  init: (data) => {
    data.complete({});
  },
  authenticate: (data) => {
    data.success({});
  },
};

const questionResponse = `
{"items":[{"tags":["javascript","html","canvas"],"owner":{"reputation":9,"user_id":8410571,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/a7be72989ec1d27a26fa87c87a9ba3e9?s=128&d=identicon&r=PG&f=1","display_name":"yasmina jaaouane","link":"https://stackoverflow.com/users/8410571/yasmina-jaaouane"},"is_answered":false,"view_count":35,"answer_count":1,"score":1,"last_activity_date":1501762834,"creation_date":1501753508,"last_edit_date":1501754781,"question_id":45480571,"link":"https://stackoverflow.com/questions/45480571/changing-the-color-of-multiple-images-in-one-canvas","title":"Changing the color of multiple images in one canvas"},{"tags":["javascript","html","canvas"],"owner":{"reputation":1,"user_id":8133853,"user_type":"registered","profile_image":"https://graph.facebook.com/945298002176695/picture?type=large","display_name":"Maco Acero","link":"https://stackoverflow.com/users/8133853/maco-acero"},"is_answered":false,"view_count":17,"answer_count":0,"score":0,"last_activity_date":1501710137,"creation_date":1501709767,"last_edit_date":1501710137,"question_id":45471394,"link":"https://stackoverflow.com/questions/45471394/html-canvas-liquid-particles-effect-when-mobile-rotate","title":"html canvas Liquid Particles effect when mobile rotate"},{"tags":["javascript","html","node.js","canvas","eventlistener"],"owner":{"reputation":771,"user_id":2628521,"user_type":"registered","accept_rate":53,"profile_image":"https://graph.facebook.com/100002241214294/picture?type=large","display_name":"DOCTYPE HTML","link":"https://stackoverflow.com/users/2628521/doctype-html"},"is_answered":true,"view_count":35,"accepted_answer_id":45468690,"answer_count":3,"score":-2,"last_activity_date":1501700665,"creation_date":1501699254,"last_edit_date":1501700247,"question_id":45468631,"link":"https://stackoverflow.com/questions/45468631/how-to-remove-an-eventlistener","title":"How to remove an EventListener?"},{"tags":["javascript","html","html5","canvas"],"owner":{"reputation":6,"user_id":8404407,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/114efd6564010dcb7e51fc0b3726b521?s=128&d=identicon&r=PG&f=1","display_name":"Aurelien","link":"https://stackoverflow.com/users/8404407/aurelien"},"is_answered":false,"view_count":49,"answer_count":0,"score":1,"last_activity_date":1501665404,"creation_date":1501665404,"question_id":45456561,"link":"https://stackoverflow.com/questions/45456561/have-a-text-input-in-a-draggable-rectangle-on-a-html-canvas","title":"Have a text input in a draggable rectangle on a HTML canvas"},{"tags":["javascript","html","css","canvas"],"owner":{"reputation":1,"user_id":8393318,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/9daf09665565d4a9301e556990499932?s=128&d=identicon&r=PG&f=1","display_name":"demis","link":"https://stackoverflow.com/users/8393318/demis"},"is_answered":false,"view_count":38,"answer_count":2,"score":0,"last_activity_date":1501664010,"creation_date":1501661609,"last_edit_date":1501662161,"question_id":45455148,"link":"https://stackoverflow.com/questions/45455148/javascript-how-to-make-object-appear-over-a-background-image","title":"Javascript how to make object appear over a background image"},{"tags":["javascript","html","canvas"],"owner":{"reputation":13,"user_id":7995288,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/08349b4af79e48b314c00d37d84e67b0?s=128&d=identicon&r=PG&f=1","display_name":"Number_DDD","link":"https://stackoverflow.com/users/7995288/number-ddd"},"is_answered":false,"view_count":37,"answer_count":0,"score":2,"last_activity_date":1501658631,"creation_date":1501644530,"last_edit_date":1501658631,"question_id":45450961,"link":"https://stackoverflow.com/questions/45450961/infinite-like-space-for-conways-game-of-life-in-html-js-with-canvas","title":"Infinite-like space for Conway&#39;s Game of Life in html/js with canvas"},{"tags":["javascript","html","canvas","automatic-ref-counting","draw"],"owner":{"reputation":32,"user_id":7803541,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/11fbc7f6ec2d813b36fd6a600c722442?s=128&d=identicon&r=PG&f=1","display_name":"Chenny","link":"https://stackoverflow.com/users/7803541/chenny"},"is_answered":true,"view_count":28,"accepted_answer_id":45450148,"answer_count":1,"score":0,"last_activity_date":1501638134,"creation_date":1501630427,"question_id":45449177,"link":"https://stackoverflow.com/questions/45449177/dragging-a-circle-on-a-canvas-using-mousedown","title":"Dragging a circle on a canvas using mousedown"},{"tags":["javascript","html","css","canvas"],"owner":{"reputation":732,"user_id":2302843,"user_type":"registered","accept_rate":66,"profile_image":"https://i.stack.imgur.com/yj4Yg.jpg?s=128&g=1","display_name":"Zeliax","link":"https://stackoverflow.com/users/2302843/zeliax"},"is_answered":true,"view_count":32,"accepted_answer_id":45433195,"answer_count":1,"score":1,"last_activity_date":1501579164,"creation_date":1501576948,"question_id":45432979,"link":"https://stackoverflow.com/questions/45432979/text-is-vertically-stretched-on-my-canvas-making-it-unreadable","title":"Text is vertically stretched on my canvas, making it unreadable"},{"tags":["html","html5","canvas","html5-canvas","geometry"],"owner":{"reputation":11,"user_id":4458842,"user_type":"registered","accept_rate":0,"profile_image":"https://www.gravatar.com/avatar/a2b9fff17b64daf6b33c7f6e15c6e8e4?s=128&d=identicon&r=PG&f=1","display_name":"Mitch Mitchell","link":"https://stackoverflow.com/users/4458842/mitch-mitchell"},"is_answered":false,"view_count":32,"answer_count":1,"score":0,"last_activity_date":1501539962,"creation_date":1501521903,"question_id":45421920,"link":"https://stackoverflow.com/questions/45421920/draw-a-pentagon-with-html-5-canvas","title":"Draw a Pentagon with HTML 5 canvas"},{"tags":["javascript","jquery","html","html5","canvas"],"owner":{"reputation":4046,"user_id":339108,"user_type":"registered","accept_rate":77,"profile_image":"https://www.gravatar.com/avatar/4de86eb8deb3e2180c8e5abc6aa80d35?s=128&d=identicon&r=PG","display_name":"user339108","link":"https://stackoverflow.com/users/339108/user339108"},"is_answered":true,"view_count":2856,"accepted_answer_id":4183193,"answer_count":2,"score":5,"last_activity_date":1501530909,"creation_date":1289808317,"last_edit_date":1289812326,"question_id":4182494,"link":"https://stackoverflow.com/questions/4182494/how-to-draw-number-lines-using-html","title":"How to draw number lines using HTML"},{"tags":["javascript","html","canvas","push","drawimage"],"owner":{"reputation":1,"user_id":8394206,"user_type":"registered","profile_image":"https://i.stack.imgur.com/sn0FC.jpg?s=128&g=1","display_name":"artistTryingToCode","link":"https://stackoverflow.com/users/8394206/artisttryingtocode"},"is_answered":false,"view_count":34,"closed_date":1501511012,"answer_count":0,"score":0,"last_activity_date":1501527956,"creation_date":1501508439,"last_edit_date":1501527956,"question_id":45417587,"link":"https://stackoverflow.com/questions/45417587/how-do-i-use-drawimage-on-an-obstacle-push-in-an-html-canvas-game","closed_reason":"duplicate","title":"How do I use drawimage() on an obstacle.push in an HTML canvas game?"},{"tags":["html","css","canvas"],"owner":{"reputation":27,"user_id":8278589,"user_type":"registered","accept_rate":100,"profile_image":"https://www.gravatar.com/avatar/ce8447e769f794c15ca9886820bf7a33?s=128&d=identicon&r=PG&f=1","display_name":"dieusu","link":"https://stackoverflow.com/users/8278589/dieusu"},"is_answered":true,"view_count":38,"accepted_answer_id":45411737,"answer_count":1,"score":2,"last_activity_date":1501492256,"creation_date":1501470001,"question_id":45406873,"link":"https://stackoverflow.com/questions/45406873/why-does-text-align-have-an-effect-on-canvas","title":"Why does text-align have an effect on canvas?"},{"tags":["javascript","jquery","html","html5","canvas"],"owner":{"reputation":36,"user_id":8391877,"user_type":"registered","profile_image":"https://lh6.googleusercontent.com/-pdCNxlFPz7s/AAAAAAAAAAI/AAAAAAAABiA/JwRuf-tBk6I/photo.jpg?sz=128","display_name":"Brendan Russo","link":"https://stackoverflow.com/users/8391877/brendan-russo"},"is_answered":true,"view_count":58,"answer_count":3,"score":7,"last_activity_date":1501485058,"creation_date":1501479425,"question_id":45408170,"link":"https://stackoverflow.com/questions/45408170/how-do-i-update-a-cloned-html-canvas-element-with-the-context-and-data-of-the-or","title":"How do I update a cloned HTML canvas element with the context and data of the original canvas?"},{"tags":["javascript","html","canvas"],"owner":{"reputation":1837,"user_id":2567859,"user_type":"registered","accept_rate":67,"profile_image":"https://i.stack.imgur.com/kJ7FA.jpg?s=128&g=1","display_name":"Dreams","link":"https://stackoverflow.com/users/2567859/dreams"},"is_answered":false,"view_count":26,"answer_count":1,"score":-2,"last_activity_date":1501351499,"creation_date":1500625192,"last_edit_date":1500626749,"question_id":45232610,"link":"https://stackoverflow.com/questions/45232610/how-to-draw-a-rectangle-by-start-point-and-end-point","title":"How to draw a rectangle by start point and end point?"},{"tags":["javascript","html","html5","canvas","html5-canvas"],"owner":{"reputation":17,"user_id":3870094,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/8e6288be6be7cd38b8a5d5d558b2e855?s=128&d=identicon&r=PG&f=1","display_name":"coder1100","link":"https://stackoverflow.com/users/3870094/coder1100"},"is_answered":false,"view_count":22,"closed_date":1501347407,"answer_count":0,"score":0,"last_activity_date":1501347580,"creation_date":1501343950,"question_id":45391250,"link":"https://stackoverflow.com/questions/45391250/pixelated-lines-html-canvas","closed_reason":"duplicate","title":"Pixelated Lines (HTML Canvas)"},{"tags":["javascript","html","canvas","collision"],"owner":{"reputation":10,"user_id":8353991,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/f7699a69eab1e173d532cb21b94e728a?s=128&d=identicon&r=PG&f=1","display_name":"Connor","link":"https://stackoverflow.com/users/8353991/connor"},"is_answered":true,"view_count":61,"accepted_answer_id":45390844,"answer_count":1,"score":1,"last_activity_date":1501341489,"creation_date":1501005918,"last_edit_date":1501171830,"question_id":45310663,"link":"https://stackoverflow.com/questions/45310663/how-can-i-add-2d-collision-to-the-bottom-of-the-obstacles-in-my-game","title":"How can I add 2d collision to the bottom of the obstacles in my game?"},{"tags":["javascript","html","canvas"],"owner":{"reputation":2,"user_id":7879622,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/8bc1017dec6c08b103bc00ed978dbbb7?s=128&d=identicon&r=PG&f=1","display_name":"Wrogrsin","link":"https://stackoverflow.com/users/7879622/wrogrsin"},"is_answered":false,"view_count":28,"answer_count":0,"score":0,"last_activity_date":1501256832,"creation_date":1501256399,"question_id":45377468,"link":"https://stackoverflow.com/questions/45377468/uncaught-syntaxerror-unexpected-identifier-with-canvas-in-js","title":"Uncaught SyntaxError: Unexpected identifier with canvas in js"},{"tags":["javascript","jquery","html","html5","canvas"],"owner":{"reputation":485,"user_id":3375021,"user_type":"registered","accept_rate":54,"profile_image":"https://www.gravatar.com/avatar/f863ce5eb77654784b9a98e93f1f9afa?s=128&d=identicon&r=PG&f=1","display_name":"nameless","link":"https://stackoverflow.com/users/3375021/nameless"},"is_answered":false,"view_count":31,"answer_count":1,"score":0,"last_activity_date":1501230646,"creation_date":1501227146,"last_edit_date":1501229979,"question_id":45367459,"link":"https://stackoverflow.com/questions/45367459/canvas-change-size-of-drawings-live","title":"Canvas change size of drawings live"},{"tags":["html","html5","canvas","html5-canvas"],"owner":{"reputation":746,"user_id":4301177,"user_type":"registered","accept_rate":100,"profile_image":"https://i.stack.imgur.com/Aww2M.jpg?s=128&g=1","display_name":"Rodrigo Leite","link":"https://stackoverflow.com/users/4301177/rodrigo-leite"},"is_answered":false,"view_count":20,"answer_count":0,"score":0,"last_activity_date":1501209811,"creation_date":1501209811,"question_id":45364011,"link":"https://stackoverflow.com/questions/45364011/how-to-contourn-elements-with-a-line-using-canvas","title":"How to contourn elements with a line using canvas"},{"tags":["javascript","html","typescript","canvas","ionic2"],"owner":{"reputation":1548,"user_id":7325327,"user_type":"registered","accept_rate":82,"profile_image":"https://i.stack.imgur.com/QYY60.jpg?s=128&g=1","display_name":"Gabriel Barreto","link":"https://stackoverflow.com/users/7325327/gabriel-barreto"},"is_answered":true,"view_count":33,"accepted_answer_id":45311292,"answer_count":1,"score":0,"last_activity_date":1501008269,"creation_date":1501006265,"question_id":45310771,"link":"https://stackoverflow.com/questions/45310771/canvas-click-particle-explosion-effect-not-targeting-mouse-position","title":"Canvas click particle explosion effect not targeting mouse position"},{"tags":["javascript","html","html5","canvas","drop-down-menu"],"owner":{"reputation":32,"user_id":7666049,"user_type":"registered","accept_rate":96,"profile_image":"https://i.stack.imgur.com/XPsd9.png?s=128&g=1","display_name":"Jonathan Connell","link":"https://stackoverflow.com/users/7666049/jonathan-connell"},"is_answered":true,"view_count":154,"accepted_answer_id":45287574,"answer_count":2,"score":1,"last_activity_date":1500920821,"creation_date":1499886531,"last_edit_date":1500912962,"question_id":45065743,"link":"https://stackoverflow.com/questions/45065743/javascript-object-oriented-canvas-game-with-requestanimationframe","title":"Javascript - Object-Oriented Canvas Game with requestAnimationFrame"},{"tags":["javascript","html","firefox","canvas"],"owner":{"reputation":54,"user_id":1573801,"user_type":"registered","accept_rate":60,"profile_image":"https://www.gravatar.com/avatar/95833896d775ed2249a599e25ea3cc2c?s=128&d=identicon&r=PG","display_name":"Lukasz B","link":"https://stackoverflow.com/users/1573801/lukasz-b"},"is_answered":true,"view_count":2266,"answer_count":3,"score":6,"last_activity_date":1500899169,"creation_date":1344095868,"last_edit_date":1344097218,"question_id":11809985,"link":"https://stackoverflow.com/questions/11809985/force-firefox-to-reload-image-after-img-src-change","title":"Force firefox to reload image after img.src change"},{"tags":["javascript","html","html5","canvas"],"owner":{"reputation":747,"user_id":2983305,"user_type":"registered","accept_rate":35,"profile_image":"https://www.gravatar.com/avatar/becb790c6eb1c1b37c47ba88c10d25ba?s=128&d=identicon&r=PG&f=1","display_name":"Aflred","link":"https://stackoverflow.com/users/2983305/aflred"},"is_answered":true,"view_count":37,"accepted_answer_id":45269794,"answer_count":2,"score":0,"last_activity_date":1500848873,"creation_date":1500754534,"last_edit_date":1500755784,"question_id":45258781,"link":"https://stackoverflow.com/questions/45258781/html5-canvas-remove-vertical-horizontal-line-worth-of-pixel","title":"html5 canvas remove vertical/horizontal line worth of pixel"},{"tags":["javascript","html","canvas"],"owner":{"reputation":10,"user_id":8353991,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/f7699a69eab1e173d532cb21b94e728a?s=128&d=identicon&r=PG&f=1","display_name":"Connor","link":"https://stackoverflow.com/users/8353991/connor"},"is_answered":true,"view_count":22,"accepted_answer_id":45268157,"answer_count":1,"score":0,"last_activity_date":1500834507,"creation_date":1500831044,"question_id":45267991,"link":"https://stackoverflow.com/questions/45267991/how-can-i-make-a-rectangle-follow-the-mousex-position-inside-the-canvas","title":"How can I make a rectangle follow the mouseX position inside the canvas?"},{"tags":["javascript","jquery","html","canvas"],"owner":{"reputation":8,"user_id":8346311,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/1ceab30d9e0269392f8bca1b85166b90?s=128&d=identicon&r=PG&f=1","display_name":"Zsolt Fekete","link":"https://stackoverflow.com/users/8346311/zsolt-fekete"},"is_answered":true,"view_count":35,"accepted_answer_id":45263791,"answer_count":1,"score":1,"last_activity_date":1500803910,"creation_date":1500797124,"last_edit_date":1500800782,"question_id":45262875,"link":"https://stackoverflow.com/questions/45262875/hover-on-images-in-a-canvas","title":"Hover on images in a canvas"},{"tags":["javascript","html","canvas"],"owner":{"reputation":22,"user_id":8290158,"user_type":"registered","accept_rate":60,"profile_image":"https://www.gravatar.com/avatar/1e4478c7737e1137d2e65a563fedc985?s=128&d=identicon&r=PG&f=1","display_name":"CooperCape","link":"https://stackoverflow.com/users/8290158/coopercape"},"is_answered":true,"view_count":26,"accepted_answer_id":45246207,"answer_count":1,"score":1,"last_activity_date":1500669351,"creation_date":1500668512,"last_edit_date":1500668707,"question_id":45246143,"link":"https://stackoverflow.com/questions/45246143/html-input-range-using-onchange-to-change-a-variable","title":"HTML input range using &#39;onchange&#39; to change a variable"},{"tags":["html","canvas","alpha"],"owner":{"reputation":619,"user_id":3796088,"user_type":"registered","accept_rate":78,"profile_image":"https://i.stack.imgur.com/42u22.png?s=128&g=1","display_name":"WookieCoder","link":"https://stackoverflow.com/users/3796088/wookiecoder"},"is_answered":true,"view_count":21,"accepted_answer_id":45244293,"answer_count":1,"score":0,"last_activity_date":1500661500,"creation_date":1500660725,"question_id":45244184,"link":"https://stackoverflow.com/questions/45244184/rgba-pixel-addition-alpha-value-in-canvas","title":"RGBA Pixel Addition Alpha Value in Canvas"},{"tags":["php","jquery","html","ajax","canvas"],"owner":{"reputation":1,"user_id":7806892,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/cf70acc07274628da38941cf528ec03a?s=128&d=identicon&r=PG&f=1","display_name":"muhammed ikram","link":"https://stackoverflow.com/users/7806892/muhammed-ikram"},"is_answered":false,"view_count":21,"answer_count":0,"score":0,"last_activity_date":1500627716,"creation_date":1500627716,"question_id":45233465,"link":"https://stackoverflow.com/questions/45233465/html-canvas-signature-output","title":"HTML Canvas Signature output"},{"tags":["html","html5","canvas","youtube-api","fabricjs"],"owner":{"reputation":1841,"user_id":3816072,"user_type":"registered","accept_rate":100,"profile_image":"https://i.stack.imgur.com/X4ZMA.jpg?s=128&g=1","display_name":"kaxi1993","link":"https://stackoverflow.com/users/3816072/kaxi1993"},"is_answered":true,"view_count":2290,"accepted_answer_id":28107738,"answer_count":1,"score":1,"last_activity_date":1500626615,"creation_date":1422005978,"last_edit_date":1500626615,"question_id":28106909,"link":"https://stackoverflow.com/questions/28106909/youtube-video-inside-canvas","title":"Youtube video Inside canvas"},{"tags":["html","css","canvas","angular-material","chart.js"],"owner":{"reputation":17,"user_id":2338600,"user_type":"registered","accept_rate":0,"profile_image":"https://www.gravatar.com/avatar/742de05c8ca7ae7d976b5a976a212d62?s=128&d=identicon&r=PG","display_name":"Sandeep Dvs","link":"https://stackoverflow.com/users/2338600/sandeep-dvs"},"is_answered":false,"view_count":50,"answer_count":0,"score":0,"last_activity_date":1500607376,"creation_date":1500603868,"question_id":45228004,"link":"https://stackoverflow.com/questions/45228004/how-to-fill-the-canvas-inside-div","title":"How to fill the canvas inside DIV"}],"has_more":true,"quota_max":300,"quota_remaining":260}
`;


const editResponse = JSON.stringify({foo: "bar"});

window.XMLHttpRequest = function() {
  this.events = {};
};
window.XMLHttpRequest.prototype.addEventListener = function(type, cb) {
  this.events[type] = cb;
};
window.XMLHttpRequest.prototype.open = function(method, url) {
  this.method = method;
  this.url = url;
  const u = new URL(url);
  console.log(u);
  if ((/\d\/questions\/[^/]+\/edit/).test(u.pathname)) {
    this.response = editResponse;
  } else if ((/\d\/questions/).test(u.pathname)) {
    this.response = questionResponse;
  } else {
    this.response = JSON.stringify({error_message: "unknown path"});
  }
};
window.XMLHttpRequest.prototype.send = function(data) {
  console.log("sending:", data);
  this.events['load']({});
};

